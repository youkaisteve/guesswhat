<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="581px" preserveAspectRatio="none" style="width:363px;height:581px;" version="1.1" viewBox="0 0 363 581" width="363px" zoomAndPan="magnify"><defs><filter height="300%" id="fr5g4d48y1112" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="203" cy="20" fill="#000000" filter="url(#fr5g4d48y1112)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="169" y="50"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="48" x="179" y="71.1387">消费消息</text><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="128" x="139" y="103.9688"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="149" y="125.1074">写入「消息存储库」</text><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="104" x="151" y="157.9375"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="84" x="161" y="179.0762">写入「会话库」</text><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="152" x="127" y="211.9063"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="132" x="137" y="233.0449">获取消息接收方以及状态</text><polygon fill="#FEFECE" filter="url(#fr5g4d48y1112)" points="172.5,265.875,233.5,265.875,245.5,277.875,233.5,289.875,172.5,289.875,160.5,277.875,172.5,265.875" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="172.5" y="281.6831">接收方在线?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="137.5" y="275.2808">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="245.5" y="275.2808">false</text><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="189" x="11" y="299.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169" x="21" y="321.0137">获取目标用户的所有channelId</text><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="116" x="47.5" y="353.8438"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="96" x="57.5" y="374.9824">发送消息至接收方</text><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="59.5" y="456.2148"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="69.5" y="477.3535">更新消息状态</text><polygon fill="#FEFECE" filter="url(#fr5g4d48y1112)" points="80.5,407.8125,130.5,407.8125,142.5,419.8125,130.5,431.8125,80.5,431.8125,68.5,419.8125,80.5,407.8125" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="109.5" y="442.0229">true</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="50" x="80.5" y="423.6206">收到ACK?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="28" x="142.5" y="417.2183">false</text><ellipse cx="192.5" cy="419.8125" fill="#FFFFFF" filter="url(#fr5g4d48y1112)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="192.5" cy="419.8125" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fr5g4d48y1112)" height="33.9688" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="92" x="254.5" y="299.875"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="72" x="264.5" y="321.0137">调用App推送</text><polygon fill="#FEFECE" filter="url(#fr5g4d48y1112)" points="203,500.1836,215,512.1836,203,524.1836,191,512.1836,203,500.1836" style="stroke:#A80036;stroke-width:1.5;"/><ellipse cx="203" cy="554.1836" fill="#FFFFFF" filter="url(#fr5g4d48y1112)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:2.5;" x1="196.8128" x2="209.1872" y1="547.9964" y2="560.3708"/><line style="stroke:#000000;stroke-width:2.5;" x1="209.1872" x2="196.8128" y1="547.9964" y2="560.3708"/><line style="stroke:#A80036;stroke-width:1.5;" x1="203" x2="203" y1="30" y2="50"/><polygon fill="#A80036" points="199,40,203,50,207,40,203,44" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="203" x2="203" y1="83.9688" y2="103.9688"/><polygon fill="#A80036" points="199,93.9688,203,103.9688,207,93.9688,203,97.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="203" x2="203" y1="137.9375" y2="157.9375"/><polygon fill="#A80036" points="199,147.9375,203,157.9375,207,147.9375,203,151.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="203" x2="203" y1="191.9063" y2="211.9063"/><polygon fill="#A80036" points="199,201.9063,203,211.9063,207,201.9063,203,205.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="333.8438" y2="353.8438"/><polygon fill="#A80036" points="101.5,343.8438,105.5,353.8438,109.5,343.8438,105.5,347.8438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="431.8125" y2="456.2148"/><polygon fill="#A80036" points="101.5,446.2148,105.5,456.2148,109.5,446.2148,105.5,450.2148" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="142.5" x2="181.5" y1="419.8125" y2="419.8125"/><polygon fill="#A80036" points="171.5,415.8125,181.5,419.8125,171.5,423.8125,175.5,419.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="490.1836" y2="512.1836"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="191" y1="512.1836" y2="512.1836"/><polygon fill="#A80036" points="181,508.1836,191,512.1836,181,516.1836,185,512.1836" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="387.8125" y2="407.8125"/><polygon fill="#A80036" points="101.5,397.8125,105.5,407.8125,109.5,397.8125,105.5,401.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="160.5" x2="105.5" y1="277.875" y2="277.875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="105.5" x2="105.5" y1="277.875" y2="299.875"/><polygon fill="#A80036" points="101.5,289.875,105.5,299.875,109.5,289.875,105.5,293.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="245.5" x2="300.5" y1="277.875" y2="277.875"/><line style="stroke:#A80036;stroke-width:1.5;" x1="300.5" x2="300.5" y1="277.875" y2="299.875"/><polygon fill="#A80036" points="296.5,289.875,300.5,299.875,304.5,289.875,300.5,293.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="300.5" x2="300.5" y1="333.8438" y2="512.1836"/><line style="stroke:#A80036;stroke-width:1.5;" x1="300.5" x2="215" y1="512.1836" y2="512.1836"/><polygon fill="#A80036" points="225,508.1836,215,512.1836,225,516.1836,221,512.1836" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="203" x2="203" y1="245.875" y2="265.875"/><polygon fill="#A80036" points="199,255.875,203,265.875,207,255.875,203,259.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="203" x2="203" y1="524.1836" y2="544.1836"/><polygon fill="#A80036" points="199,534.1836,203,544.1836,207,534.1836,203,538.1836" style="stroke:#A80036;stroke-width:1.0;"/></g></svg>